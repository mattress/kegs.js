<!doctype html>
<html ng-app="kegsApp">
<head>	
	<meta charset="utf-8">
	<title>Kegs.js</title>
	<link rel="stylesheet" type="text/css" href="css/main.css">

	<script src="bower_components/angular/angular.js"></script>
	<script src="js/app.js"></script>
	<script src="js/controllers.js"></script>
	<script src="bower_components/jquery/dist/jquery.min.js"></script>
</head>
	
<body ng-controller="KegListCtrl">
	<div class="u-container" id="wrapper">
		<div class="header">
			<div class="header__logo">
				<img src="/images/custom/logo.png" alt="Mute Dog Logo" height="100">
			</div>
				
			<div class="header__title">
				<img src="/images/custom/logo-type.png" alt="Mute Dog Fermenting">
			</div>
		</div>	
		<br />
		<table class="ontap">
			<thead>
				<tr>
					<td>&nbsp;</td>
					<td class="TitleBarBeerName">Name</td>
					<td class="TitleBarInfo">Info</td>
					<td class="TitleBarKeg">Keg Volume</td>
				</tr>
			</thead>
			<tbody>
			
				<tr ng-repeat="keg in kegs" class="beer" id="beer{{keg.tap}}">
					<td class="beer__srm">
						<img src="/images/srm/SRM {{keg.srm}}.png" class="srm__img">
					</td>
					<td class="beer__name">
						<h1>{{keg.name}}</h1>
						<h2>{{keg.style}}</h2>
						<h3>{{keg.brewer}}</h3>
					</td>
					<td class="beer__info">
						<div class="info__row">
							<span class="info__left">{{keg.abv}}%</span>
							<span class="info__right">ABV</span>
						</div>
						<div class="info__row">
							<span class="info__left">{{keg.ibu}}</span> 
							<span class="info__right">IBU</span>
						</div>
					</td>
					<td class="beer__keg">
						<a href="#" class="pour" ng-click="form = !form"><img src="/images/kegs/{{Math.floor((keg.volume / 640) * 100)}}.png" class="keg__img"></a>
						<form class="pourForm" ng-class="form ? 'show' : 'hide'">
							<h3>{{keg.name}}</h3>
							<p>Enter the approximate volume of your pour in ounces:</p>
							<input type="number" name="pourVol" id="pourVol" ng-model="pourVol" class="pourVol">
							<input type="text" name="resultVol" id="resultVol" ng-model="keg.volume" class="hidden">
							<input type="submit" name="save" id="save" value="Save" ng-click="save(keg.tap, keg.volume - pourVol); form = !form" class="pourSave">
							<div class="pourUnits">Alcohol units in your pour: <span class="pourUnitsAmount">{{Math.round(pourVol*2.957*keg.abv)/100}}</span></div>
							<a href="#" class="pourClose" ng-click="form = !form">X</a>
						</form>

					</td>
				</tr>

			</tbody>
		</table>
	</div>

<script type="text/javascript">
jQuery(document).ready(function(){
	jQuery(".pour").click(function() {
		alert("poop");
		// jQuery(this).next(".pourForm").toggleClass("show");
	});
});
</script>

</body>
</html>
